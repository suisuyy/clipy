const d=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}};d();let n={youdao:{url:"https://mobile.youdao.com/dict?le=eng&q=",iframe:null},baidu:{url:"https://fanyi.baidu.com/#en/zh/",iframe:!1},oxford:{url:"https://www.oxfordlearnersdictionaries.com/us/definition/english/",iframe:!1}},c=document.querySelector("#clipboardDisplayer"),u=document.querySelector("#dictContainer"),s="";function f(){document.hasFocus!==!1&&navigator.clipboard.readText().then(t=>{s!==t&&(s=t,c.value=t+`

`+c.value,n.youdao.iframe.src=n.youdao.url+y(t+""))})}function m(t){let o=document.createElement("div"),i=document.createElement("iframe");i.src=t.url,i.classList.add(["dictionary-displayer"]),t.iframe=i,o.appendChild(i),u.appendChild(o)}async function p(){setInterval(()=>{f()},1e3),m(n.youdao)}function y(t){return typeof t!="string"?"":t.split(/[-_\.\s]/)[0]}p();document.addEventListener("select",t=>{console.log(window.getSelection().toString()),n.youdao.iframe.src=n.youdao.url+window.getSelection()});
